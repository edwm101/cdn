(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{461:function(e,t,n){"use strict";var r={props:{path:{defaul:!1},always:{defaul:!1}},methods:{goTo:function(){this.$router.go(-1)||this.$router.push(this.localePath({name:this.path}))}}},o=n(18),c=n(22),l=n.n(c),d=n(172),v=n(114),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"mr-1",attrs:{color:"primary",small:"",icon:""}},[n("v-icon",{staticClass:"font-weight-black mx-2 black--text",attrs:{large:""},on:{click:function(t){return e.goTo()}}},[e._v("mdi-arrow-left")])],1)}),[],!1,null,null,null);t.a=component.exports;l()(component,{VBtn:d.a,VIcon:v.a})},553:function(e,t,n){"use strict";n.r(t);n(12),n(9),n(7),n(5),n(10);var r,o=n(1),c=(n(40),n(27),n(8));n(25);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=(r={components:{GoBack:n(461).a},data:function(){return{key_id:null,isActive:!1,lightbox_index:0,is_show_phone:!1,is_scroll_order:!1,is_passed_order:!1,info:{},fields:{},loading:!1,valid:!1,is_show_arrow:!1,dialog:!1,reservation_date:!1,params:{},service:{},services:[],cities:[]}},head:function(){return{title:this.meta.title,meta:[{hid:"description",name:"description",content:this.meta.description},{hid:"og:title",property:"og:title",content:this.meta.title+" - autoprix.tn"},{hid:"og:description",property:"og:description",content:this.meta.description},{hid:"og:image",property:"og:image",content:this.meta.image}],script:[{"@context":"http://schema.org","@type":"Product",image:this.service.image,url:"https://api.autoprix.tn/v1"+this.$router.currentRoute.fullPath,name:this.service.name,offers:{"@type":"Offer",price:this.service.price}}]}},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,d,v,title;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.error,e.env,o=e.app,l={},d=[],v=[],title=null,t.next=7,o.$api("public/service",{params:{id:n.id}}).then(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=t.data.result).images=l.image.split(","),l.fields||(l.fields=""),title=l.name+" en Tunisie",e.next=6,o.$api("public/service/all",{}).then((function(e){v=e.data.result}));case 6:return e.abrupt("return",{service:l,services:v,cities:d,meta:{title:title,description:l.short_description,image:l.image}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r({statusCode:404,message:e})}));case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(e,t,n){n(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.name?n.is_show_arrow=!0:n.is_show_arrow=!1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},watch:{fields:{handler:function(e,t){for(var i in this.info.fields=[],e)this.info.fields.push({key:i,value:e[i]});this.info.fields=JSON.stringify(this.info.fields)},deep:!0},"info.phone":function(e){return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},methods:{callPhone:function(){this.$api.post("public/action",{status:1,meta_key:"phone_call",meta_value:window.location.href})},savePhone:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:8==e.info.phone.length&&e.send(!1);case 1:case"end":return t.stop()}}),t)})))()},send:function(){var e=arguments,t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.length>0&&void 0!==e[0]&&e[0])&&t.$refs.form.validate(),!t.valid&&r){n.next=10;break}return t.$cookies.set("user-data",JSON.stringify(t.info),{path:"/",maxAge:604800}),r&&(t.loading=!0),o=null,o=t.$cookies.get("last_product")?t.$cookies.get("last_product"):window.location,n.next=9,t.$api.post("public/service/order",d(d({},t.info),{},{service_id:t.params.id,url:o,key_id:t.key_id})).then((function(e){t.key_id=e.data.result.key_id,r&&(t.is_passed_order=!0)}));case 9:r&&(t.loading=!1);case 10:case"end":return n.stop()}}),n)})))()},onScroll:function(e){document.getElementById("order_btn").getBoundingClientRect().top<0?this.is_scroll_order=!0:this.is_scroll_order=!1}},computed:{rules:function(){var e=this;return{required:function(t){return!!t||e.$t("required")},min:function(t){return t&&t.length>=8||e.$t("_8_caracters")}}}}},Object(o.a)(r,"beforeRouteEnter",(function(e,t,n){n(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.is_passed_order=!1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Object(o.a)(r,"mounted",(function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$api.get("public/filter/city").then((function(t){e.cities=t.data.result})),e.params=e.$route.params,e.$cookies.get("user-data")?e.info=e.$cookies.get("user-data"):e.$cookies.get("user-estimation-data")&&(e.info=e.$cookies.get("user-estimation-data")),window.addEventListener("scroll",e.onScroll);case 4:case"end":return t.stop()}}),t)})))()})),r),m=n(18),h=n(22),f=n.n(h),_=n(172),w=n(174),x=n(15),y=n(413),k=n(412),C=n(388),$=n(403),O=n(529),j=n(389),P=n(374),R=n(392),V=n(114),S=n(515),A=n(528),L=n(390),D=n(534),E=n(124),I=n(436),T=n(391),z=n(376),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"is_ltr",staticStyle:{background:"#f1f1f1"}},[n("v-container",[n("ul",{staticClass:"breadcrumb ma-1 my-1 is_ltr",attrs:{itemscope:"",itemtype:"http://schema.org/BreadcrumbList"}},[n("li",{attrs:{itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"}},[n("nuxt-link",{attrs:{to:e.localePath({name:"index"}),itemprop:"item"}},[n("span",{attrs:{itemprop:"name"}},[e._v(e._s(e.$t("home")))])]),e._v(" "),n("meta",{attrs:{itemprop:"position",content:"1"}})],1),e._v(" "),n("li",{attrs:{itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"}},[n("nuxt-link",{attrs:{to:e.localePath({name:"service"}),itemprop:"item"}},[n("span",{attrs:{itemprop:"name"}},[e._v(e._s(e.$t("our_service")))])]),e._v(" "),n("meta",{attrs:{itemprop:"position",content:"2"}})],1)]),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"9"}},[n("v-card",{staticClass:"mx-auto elevation-0 transparent"},[n("v-row",{staticClass:"rounded",attrs:{itemscope:"",itemtype:"https://schema.org/Product"}},[n("v-col",{attrs:{cols:"12",sm:"4",md:"5"}},[n("v-card",{staticClass:"overflow-hidden transparent elevation-0"},[n("div",{attrs:{id:"carousel"}},[e.service.image?n("v-carousel",{staticClass:"is_ltr ads white",staticStyle:{cursor:"zoom-in !important",transition:"none"},attrs:{"hide-delimiter-background":"","show-arrows":e.service.images.length>1,"hide-delimiters":"",height:"300"},model:{value:e.lightbox_index,callback:function(t){e.lightbox_index=t},expression:"lightbox_index"}},e._l(e.service.images,(function(img,i){return n("v-carousel-item",{key:i,staticClass:"rounded-lg tansparent overflow-hidden"},[n("div",{staticClass:"align-self-cente"},[n("img",{staticClass:"center-in",attrs:{src:img,alt:e.service.name+" image "+i}})])])})),1):e._e()],1),e._v(" "),e.service.images&&e.service.images.length>1?n("v-card-text",{staticClass:"pa-0"},[n("v-lazy",{attrs:{"min-height":55,transition:"fade-transition"},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[n("client-only",[n("v-slide-group",{staticClass:"transparent mt-2",attrs:{"show-arrows":"","center-active":!0},model:{value:e.lightbox_index,callback:function(t){e.lightbox_index=t},expression:"lightbox_index"}},e._l(e.service.images,(function(img,t){return n("v-slide-item",{key:t,scopedSlots:e._u([{key:"default",fn:function(r){var o=r.active;return[n("div",{staticClass:"line-height-0 text-center cp mr-2 my-1 rounded-lg overflow-hidden",style:o?"primary":"opacity:0.6"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:img,expression:"img"}],staticStyle:{height:"65px"},attrs:{"input-value":o,"active-class":"purple white--text",depressed:"",alt:"Slide  #"+t+" "+e.service.name},on:{click:function(n){e.lightbox_index=t}}})])]}}],null,!0)})})),1)],1)],1)],1):e._e()],1)],1),e._v(" "),n("v-col",{attrs:{cols:"12",sm:"8",md:"7"}},[n("v-card",{staticClass:"elevation-0 pa-2"},[n("h1",{staticClass:"headline",class:e.$method.isArabic(e.service.name)?"is_rtl":"",attrs:{itemprop:"name"},domProps:{innerHTML:e._s(e.service.name)}}),e._v(" "),n("v-card-actions",{staticClass:"pa-0 my-2 mt-0 pb-1 body-1"},[n("div",{staticClass:"body-2 font-weight-bold mr-2 pt-1 brown--text"},[e._v("\n                    AUTOPRIX\n                  ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-rating",{staticClass:"pa-0 mr-1",attrs:{value:5,"background-color":"green lighten-3",color:"green",size:"17","half-increments":"",readonly:""}}),e._v(" "),n("span",{staticClass:"body-2"},[e._v("\n                    ("+e._s(parseInt(e.service.price/5))+"\n                    "),n("v-icon",{attrs:{size:"15"}},[e._v(" mdi-account")]),e._v(")")],1)],1),e._v(" "),n("div",{staticClass:"font-weight-black mt-1 pa-0",attrs:{itemprop:"offers",itemscope:"",itemtype:"https://schema.org/Offer"}},[n("div",{staticClass:"headline font-weight-black",attrs:{itemprop:"price",content:e.service.price_description},domProps:{innerHTML:e._s(e.service.price_description)}}),e._v(" "),n("link",{attrs:{itemprop:"availability",href:"https://schema.org/InStock"}})]),e._v(" "),n("v-divider",{staticClass:"my-2"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.service.short_description,expression:"service.short_description"}],staticClass:"mb-4 elevation-0 title cp overflow-hidden",on:{click:function(t){e.is_show_short_description=!e.is_show_short_description}}},[n("v-card",{staticClass:"overflow-hidden elevation-0 transparent pa-1"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.service.short_description,expression:"service.short_description"}],ref:"short_description",staticClass:"mb-0 body-1 font-weight-bold",class:e.$method.isArabic(e.service.short_description)?"is_rtl":"",domProps:{innerHTML:e._s(e.service.short_description)}})])],1),e._v(" "),n("div",{staticClass:"transparent elevation-0 text-uppercase mt-2",staticStyle:{"min-height":"56px"},attrs:{id:"order_btn"}},[n("v-card-actions",{staticClass:"pa-0 px-1",class:e.is_scroll_order?"fixed-phone-order px-1  pa-1 grey lighten-5 stripe-btn":"",staticStyle:{width:"100%"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("a",{attrs:{href:"tel:56 255 017"}},[n("v-btn",{staticClass:"title black--text",attrs:{outlined:"",height:"48"},on:{click:function(t){e.is_show_phone=!e.is_show_phone,e.callPhone()}}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-phone")]),e._v(" "),e.is_show_phone||e.$vuetify.breakpoint.mdAndUp?n("span",[e._v("56 255 017")]):e._e()],1)],1)]),e._v(" "),n("v-col",[n("v-btn",{staticClass:"stripe-btn white--text title font-weight-bold text-upper-case green",attrs:{large:"",block:"",width:"100%",height:"48",dark:""},on:{click:function(t){e.dialog=!0}}},[n("v-icon",{staticClass:"pa-1 rounded"},[e._v("mdi-cart")]),e._v(" "),n("span",{staticClass:"mx-1"},[e._v(" J'achète")])],1)],1)],1)],1)],1)],1),e._v(" "),e.service.details?[n("v-card",{staticClass:"mt-3 overflow-hidden elevation-0 pb-2",attrs:{id:"technical_sheet"}},[n("v-card-actions",{staticClass:"pa-2 pb-0"},[n("h3",[e._v(e._s(e.$t("details")))])]),e._v(" "),e.service.details?n("ul",{staticClass:"list-style-none body-1",class:e.isArabic(e.service.details)?"is_rtl":""},e._l(e.service.details.split("||"),(function(t,r){return n("li",{key:r,staticClass:"font-weight-medium pa-1"},[n("v-icon",{staticClass:"mx-2"},[e._v("mdi-check")]),e._v("\n                      "+e._s(t)+"\n                    ")],1)})),0):e._e()],1)]:e._e()],2),e._v(" "),e.service.description?n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"mt-3 overflow-hidden elevation-0",attrs:{id:"technical_sheet"}},[n("v-card-actions",{staticClass:"pa-2"},[n("h3",[e._v(e._s(e.$t("Description")))])]),e._v(" "),n("div",{staticClass:"pa-2 pt-0",domProps:{innerHTML:e._s(e.service.description)}})],1)],1):e._e()],1)],1)],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{scrollable:"","max-width":"350"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-actions",{staticClass:"pa-2 px-3"},[n("v-icon",{staticClass:"font-weight-bold white rounded stripe-btn",attrs:{text:"",color:"error"},on:{click:function(t){e.dialog=!e.dialog}}},[e._v("mdi-close")]),e._v(" "),n("span",{staticClass:"mx-2 font-weight-bold"},[e._v(" Renseignez vos coordonnées")])],1),e._v(" "),e.is_passed_order?[n("div",{staticClass:"text-center"},[n("img",{staticClass:"mx-auto ma-4 mb-1",attrs:{src:"https://image.flaticon.com/icons/svg/190/190411.svg",width:"140",alt:""}}),e._v(" "),n("h3",{staticClass:"ma-3"},[e._v("\n            "+e._s(e.$t("thnx"))+" "+e._s(e.info.first_name)+",\n            "+e._s(e.$t("order_recived"))+" ("+e._s(e.info.phone)+")\n          ")])])]:n("v-card-text",{staticClass:"overflow-y-auto pa-2 pt-0",staticStyle:{"max-height":"240px"}},[n("v-form",{ref:"form",staticClass:"pt-2",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pa-1 pt-2 pb-0",attrs:{cols:"12"}},[n("v-text-field",{staticClass:"white-input",attrs:{outlined:"",dense:"",rules:[e.rules.required,e.rules.min],name:"phone",label:e.$t("phone"),"append-icon":"mdi-phone",placeholder:"20 123 456",type:e.$vuetify.breakpoint.mdAndDown?"number":"text"},on:{input:function(t){return e.savePhone()}},model:{value:e.info.phone,callback:function(t){e.$set(e.info,"phone",t)},expression:"info.phone"}})],1),e._v(" "),e.info.phone&&e.info.phone.length>=8?n("v-col",{staticClass:"pa-1 pb-0",attrs:{cols:"6"}},[n("v-text-field",{staticClass:"white-input",attrs:{outlined:"",dense:"",name:"first_name",label:e.$t("first_name")},on:{change:function(t){return e.send(!1)}},model:{value:e.info.first_name,callback:function(t){e.$set(e.info,"first_name",t)},expression:"info.first_name"}})],1):e._e(),e._v(" "),e.info.phone&&e.info.phone.length>=8?n("v-col",{staticClass:"pa-1 pb-0",attrs:{cols:"6"}},[n("v-text-field",{staticClass:"white-input",attrs:{outlined:"",dense:"",name:"last_name",label:e.$t("last_name")},on:{change:function(t){return e.send(!1)}},model:{value:e.info.last_name,callback:function(t){e.$set(e.info,"last_name",t)},expression:"info.last_name"}})],1):e._e(),e._v(" "),e.info.phone&&e.info.phone.length>=8?n("v-col",{staticClass:"pa-1 pb-0",attrs:{cols:"12"}},[n("v-select",{staticClass:"white-input",attrs:{outlined:"",dense:"","hide-details":"",items:e.cities,label:e.$t("search_gov_ex"),"item-text":"name","item-value":"id"},on:{change:function(t){return e.send(!1)}},model:{value:e.info.governorate_id,callback:function(t){e.$set(e.info,"governorate_id",t)},expression:"info.governorate_id"}})],1):e._e(),e._v(" "),e._l(e.service.fields.split(","),(function(t,r){return["permis_date"===t?[n("v-col",{key:r,staticClass:"pa-1 pb-0",attrs:{cols:"12"}},[n("v-select",{staticClass:"white-input mt-4",attrs:{items:[2,3,4,"5+","10+"],dense:"",label:e.$t(t),"hide-details":"",outlined:""},model:{value:e.fields[t],callback:function(n){e.$set(e.fields,t,n)},expression:"fields[field]"}})],1)]:e._e(),e._v(" "),"birth_date"===t?[n("v-col",{key:r,staticClass:"pa-1 pb-0",attrs:{cols:"12"}},[n("v-select",{staticClass:"white-input mt-4",attrs:{items:[22,23,24,25,26,27,28,29,"30+","40+","50+"],dense:"",label:e.$t(t),"hide-details":"",outlined:""},model:{value:e.fields[t],callback:function(n){e.$set(e.fields,t,n)},expression:"fields[field]"}})],1)]:e._e(),e._v(" "),"reservation_date"===t?[n("v-col",{key:r,staticClass:"pa-1 pb-0",attrs:{cols:"12"}},[n("v-dialog",{attrs:{width:"290px"},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-text-field",e._g(e._b({staticClass:"white-input mt-4",attrs:{label:e.$t(t),"prepend-inner-icon":"mdi-calendar-month",readonly:"",dense:"","hide-details":"",outlined:""},model:{value:e.fields[t],callback:function(n){e.$set(e.fields,t,n)},expression:"fields[field]"}},"v-text-field",c,!1),o))]}}],null,!0),model:{value:e.reservation_date,callback:function(t){e.reservation_date=t},expression:"reservation_date"}},[e._v(" "),n("v-date-picker",{attrs:{min:(new Date).toISOString().substr(0,10),locale:"fr","no-title":"",scrollable:""},on:{change:function(t){e.reservation_date=!1}},model:{value:e.fields[t],callback:function(n){e.$set(e.fields,t,n)},expression:"fields[field]"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.reservation_date=!1}}},[e._v(e._s(e.$t("close")))])],1)],1)],1)]:e._e(),e._v(" "),"number_days"===t?[n("v-col",{key:r,staticClass:"pa-1 pb-0",attrs:{cols:"12"}},[n("v-select",{staticClass:"white-input mt-4",attrs:{items:[2,3,4,5,6,"7+","30+","30+","Longue durée"],dense:"",label:e.$t(t),"hide-details":"",outlined:""},model:{value:e.fields[t],callback:function(n){e.$set(e.fields,t,n)},expression:"fields[field]"}})],1)]:e._e()]}))],2)],1)],1),e._v(" "),e.is_passed_order?e._e():n("v-card-actions",{staticClass:"pa-1"},[n("v-btn",{staticClass:"title elevation-0 font-weight-bold white--text",attrs:{disabled:!e.info.phone||e.info.phone.length<8,color:"primary",block:"",loading:e.loading},on:{click:function(t){return e.send(!0)}}},[e._v("\n          Envoyer\n        ")])],1)],2)],1)],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:_.a,VCard:w.a,VCardActions:x.a,VCardText:x.b,VCarousel:y.a,VCarouselItem:k.a,VCol:C.a,VContainer:$.a,VDatePicker:O.a,VDialog:j.a,VDivider:P.a,VForm:R.a,VIcon:V.a,VLazy:S.a,VRating:A.a,VRow:L.a,VSelect:D.a,VSlideGroup:E.b,VSlideItem:I.a,VSpacer:T.a,VTextField:z.a})}}]);