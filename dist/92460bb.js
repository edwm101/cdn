(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{443:function(t,e,n){t.exports=n.p+"img/voiture-verifie.6605de5.svg"},465:function(t,e,n){},500:function(t,e,n){t.exports=n.p+"img/car-ban-min.679ce98.png"},502:function(t,e,n){"use strict";n(465)},527:function(t,e,n){"use strict";n.r(e);n(12),n(9);var r=n(1),o=(n(27),n(8)),l=(n(7),n(5),n(10),n(420)),c=(n(25),n(14),n(501)),d={props:{dragText:{type:String,default:"Déposez vos photos ici"},browseText:{type:String,default:"Sélectionnez"},primaryText:{type:String,default:"Par défaut"},markIsPrimaryText:{type:String,default:"Définir par défaut"},popupText:{type:String,default:"Cette image sera affichée par défaut"},dropText:{type:String,default:"Déposez votre fichier ici ..."},accept:{type:String,default:"image/gif,image/jpeg,image/png,image/bmp,image/jpg"},dataImages:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!0},showPrimary:{type:Boolean,default:!0},maxImage:{type:Number,default:250}},data:function(){return{idUpload:null,idEdit:null,currentIndexImage:0,images:[],isDragover:!1,showLightbox:!1,arrLightBox:[]}},components:{},computed:{chechPath:function(){return this.images.length>0},imagePreview:function(){var t=Object(c.findIndex)(this.images,{highlight:1});return t>-1?this.images[t].path:this.images.length?this.images[0].path:""},imageDefault:function(){if(this.images[this.currentIndexImage])return this.images[this.currentIndexImage].default}},methods:{onDrop:function(t){var e=this;this.isDragover=!1,t.stopPropagation(),t.preventDefault();var n=t.dataTransfer.files;return!!n.length&&(!!this.isValidNumberOfImages(n.length)&&(Object(c.forEach)(n,(function(t,n){if(e.createImage(t),!e.multiple)return!1})),void(document.getElementById(this.idUpload)&&(document.getElementById(this.idUpload).value=[]))))},onDragover:function(){this.isDragover=!0},createImage:function(t){var e=this,n=new FileReader;(new FormData).append("file",t),n.onload=function(n){var r=n.target.result,img=new Image;img.src=r,img.onload=function(){var canvas=document.createElement("canvas"),n=canvas.getContext("2d");canvas.width=img.naturalWidth,canvas.height=img.naturalHeight,canvas.width>1524&&(canvas.width=1524,canvas.height=canvas.width*img.naturalHeight/img.naturalWidth),n.fillStyle="#fff",n.drawImage(img,0,0,canvas.width,canvas.height),(r=canvas.toDataURL("image/jpeg",.8))&&(e.images.length?(e.images.push({name:t.name,path:r,highlight:0,default:0}),e.currentIndexImage=e.images.length-1):(e.images.push({name:t.name,path:r,highlight:1,default:1}),e.currentIndexImage=0),e.$emit("set-images",e.images,"upload",e.currentIndexImage,(function(){})))}},n.readAsDataURL(t)},editImage:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FileReader,o=new FormData,n.next=4,o.append("file",t);case 4:r.onload=function(n){var r=n.target.result,img=new Image;img.src=r,img.onload=function(){var canvas=document.createElement("canvas"),n=canvas.getContext("2d");canvas.width=img.naturalWidth,canvas.height=img.naturalHeight,canvas.width>1524&&(canvas.width=1524,canvas.height=canvas.width*img.naturalHeight/img.naturalWidth),n.fillStyle="#fff",n.drawImage(img,0,0,canvas.width,canvas.height),(r=canvas.toDataURL("image/jpeg",.8))&&e.images.length&&e.images[e.currentIndexImage]&&(e.images[e.currentIndexImage].path=r,e.images[e.currentIndexImage].name=t.name,e.$emit("set-images",e.images,"edit",e.currentIndexImage,(function(){})))}},r.readAsDataURL(t);case 6:case"end":return n.stop()}}),n)})))()},uploadFieldChange:function(t){var e=this,n=t.target.files||t.dataTransfer.files;return!!n.length&&(!!this.isValidNumberOfImages(n.length+this.images.length)&&(Object(c.forEach)(n,(function(t,n){e.createImage(t)})),void(document.getElementById(this.idUpload)&&(document.getElementById(this.idUpload).value=[]))))},editFieldChange:function(t){var e=this,n=t.target.files||t.dataTransfer.files;return!!n.length&&(!!this.isValidNumberOfImages(n.length)&&(Object(c.forEach)(n,(function(t,n){e.editImage(t)})),void(document.getElementById(this.idEdit)&&(document.getElementById(this.idEdit).value=""))))},changeHighlight:function(t){var e=this.images;this.images=[],e.map((function(e,n){return e.highlight=t===n?1:0,e})),this.currentIndexImage=t,this.images=e},markIsPrimary:function(t){this.images.map((function(e,n){return t===n?(e.highlight=1,e.default=1):(e.highlight=0,e.default=0),e})),this.currentIndexImage=0,this.images=Object(c.orderBy)(this.images,"default","desc"),this.$emit("set-images",this.images,"primary",this.currentIndexImage,(function(){}))},deleteImage:function(t){var e=this;this.$emit("set-images",this.images,"remove",this.currentIndexImage,(function(){1===e.images[t].default&&(e.images[0].default=1),e.images.splice(t,1),e.currentIndexImage=0,e.images.length&&(e.images[0].highlight=1)}))},openGallery:function(t){this.showLightbox=!0,this.$refs.lightbox.showImage(t)},onOpenedLightBox:function(t){this.showLightbox=!!t},isValidNumberOfImages:function(t){return!(t>this.maxImage)||(this.$emit("set-images",this.images,"limit",this.maxImage,(function(){})),!1)}},watch:{dataImages:{handler:function(t){this.images=t},deep:!0}},mounted:function(){var t=this;this.idUpload="edit_"+Math.ceil(1e6*Math.random()),this.idEdit="edit_"+Math.ceil(1e6*Math.random()),["dragover","drop"].forEach((function(t){window.addEventListener(t,(function(t){t.preventDefault(),t.stopPropagation()}))})),document.body.addEventListener("dragleave",(function(e){e.stopPropagation(),e.preventDefault(),t.isDragover=!1}))},created:function(){this.images=[],this.images=Object(c.cloneDeep)(this.dataImages)}},m=(n(502),n(18)),h=n(22),v=n.n(h),f=n(179),_=n(172),x=n(15),w=n(114),y=n(392),C=n(400),I=n(126),z=n.n(I),k=n(52),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.chechPath?n("div",{staticClass:"image-container position-relative text-center image-list"},[n("label",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cp",attrs:{for:t.idEdit}},[n("div",{staticClass:"preview-image full-width position-relative"},[n("div",{staticClass:"show-image centered"},[n("img",{staticClass:"show-img img-responsive",attrs:{src:t.imagePreview}})])])]),t._v(" "),n("v-card-actions",{staticClass:"pa-1"},[(t.showPrimary&&t.multiple,t._e()),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"mr-3 cp elevation-0",attrs:{tag:"label",text:"",for:t.idEdit}},[n("v-icon",[t._v("mdi-pencil")])],1),t._v(" "),n("v-btn",{staticClass:"cp elevation-0",attrs:{text:""},on:{click:function(e){return e.preventDefault(),t.deleteImage(t.currentIndexImage)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)],1):n("div",{staticClass:"image-container position-relative text-center"},[t.isDragover?n("div",{staticClass:"drag-upload-cover position-absolute",on:{drop:t.onDrop}},[n("div",{staticClass:"centered full-width text-center text-primary"},[n("svg",{staticClass:"icon-drag-drop",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{d:"M444.5 15C407.7 15 378 44.8 378 81.5s29.8 66.5 66.5 66.5S511 118.2 511 81.5 481.2 15 444.5 15zm29.4 72.4h-23.5l.1 25.9c0 3.2-2.6 5.8-5.8 5.9-3.2 0-5.8-2.6-5.8-5.8l-.1-26h-23.6c-3.2 0-5.8-2.6-5.8-5.8s2.6-5.8 5.8-5.8h23.5l-.1-25.9c0-3.2 2.6-5.8 5.8-5.9 3.2 0 5.8 2.6 5.8 5.8l.1 26h23.6c3.3 0 5.8 2.6 5.8 5.8s-2.6 5.8-5.8 5.8zM199.3 191.3c21.5 0 38.9 17.6 38.9 39.3s-17.4 39.3-38.9 39.3-38.9-17.6-38.9-39.3c0-21.7 17.5-39.3 38.9-39.3zm185.4 201.3H86.3c-6.5 0-11.9-5.3-11.9-11.9v-32.4c0-2.5.7-4.8 2.1-6.9l41.3-58.4c3.7-5.2 10.8-6.5 16.1-3.1l56.4 36.8c4.5 3 10.3 2.5 14.4-1L313 220.1c5.1-4.5 13.1-3.8 17.2 1.7l61.5 79.7c1.6 2 2.5 4.6 2.5 7.2v74.4c0 5.2-4.3 9.5-9.5 9.5zm7.9 117.6h-58.8v-12h58.8v12zm-78.4 0h-58.8v-12h58.8v12zm-78.5 0h-58.8v-12h58.8v12zm-78.4 0H98.4v-12h58.8v12h.1zm-78.5 0H57.7c-14.3 0-27.9-5.4-38.3-15.3l8.3-8.7c8.2 7.8 18.8 12 30.1 12h21.1l-.1 12zm333.6-.1l-.3-12c17.8-.4 33.4-11.5 39.8-28.2l11.2 4.3c-8.1 21.3-28 35.4-50.7 35.9zM6.8 477c-3.2-7.1-4.7-14.7-4.7-22.5v-38.2h12v38.2c0 6.1 1.3 12.1 3.7 17.6l-11 4.9zm459.9-24.1h-12v-58.8h12v58.8zM14.1 396.7h-12v-58.8h12v58.8zm452.6-22.3h-12v-58.8h12v58.8zM14.1 318.3h-12v-58.8h12v58.8zM466.7 296h-12v-58.8h12V296zM14.1 239.8h-12V181h12v58.8zm452.6-22.2h-12v-58.8h12v58.8zM14.1 161.4h-12v-58.8h12v58.8zm2.4-76.1L5.3 81.2C13 59.9 33.4 45.5 56.1 45.5h.2v12h-.2c-17.7 0-33.6 11.2-39.6 27.8zm353.6-27.8h-58.8v-12h58.8v12zm-78.5 0h-58.8v-12h58.8v12zm-78.4 0h-58.8v-12h58.8v12zm-78.5 0H75.9v-12h58.8v12z"}})]),t._v(" "),n("h4",{staticClass:"drop-text-here"},[n("b",[t._v(t._s(t.dropText))])])])]):n("div",{staticClass:"image-center position-absolute display-flex flex-column justify-content-center align-items-center",on:{dragover:function(e){return e.preventDefault(),t.onDragover(e)}}},[n("div",[n("svg",{staticClass:"image-icon-drag",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{d:"M383.6 229l-.5 1.5.7 1.7c-.2-1.1-.2-2.2-.2-3.2zm-119.7-5.4l-.3 1.4.6 1.3c-.2-.8-.3-1.8-.3-2.7zm62.4 3.8l-.2 1 .5 1.1-.3-2.1z"}}),t._v(" "),n("path",{attrs:{d:"M483 326.2l-43.5-100.5c-3.6-8.4-10.3-14.9-18.7-18.4-8.5-3.6-17.8-3.5-26.1.1L391 209c-3.3 1.4-6.1 3.6-8.4 6.3-3.6-8.2-10.2-14.6-18.6-18-8.5-3.4-17.7-3.3-26.1.3-6.1 2.7-10.9 6.8-13.9 12-3.7-8-10.2-14.3-18.4-17.6-8.5-3.4-17.8-3.3-26.1.3l-3.7 1.6c-6.3 2.7-11.2 7.1-14.3 12.4l-20.3-46.9c-4.2-9.8-10.7-16.8-18.7-20.2-8.1-3.5-17.2-3.2-26.5.8l-3.7 1.6c-8 3.5-13.3 9.3-15.5 16.9-2.1 7.3-1 16.2 3.1 25.6l83.4 188.2-64.7-39.8c-11.2-6.8-25.7-4.7-34.4 5.1-11.3 12.5-10.3 31.9 2 43.3l55.8 51.5 50.8 43.4c17.6 16.7 38.2 28.1 59.6 32.9 7.7 1.7 15.5 2.5 23.2 2.5 14.9 0 29.7-3.1 44.2-9.4l27.9-12.1c31.2-13.5 52.8-37.1 62.6-68.4 9.2-29.2 6.6-63-7.3-95.1zM383.6 229c0 1 .1 2.1.2 3.1l-.7-1.7.5-1.4zM281.7 466.6c-.2-.2-.5-.5-.7-.6l-50.4-43.1-55.6-51.5c-7.3-6.7-7.9-18.2-1.2-25.6 4.7-5.3 12.5-6.4 18.5-2.6l65.6 40.2c4.7 2.9 10.4 2.4 14.5-1.3 4.1-3.6 5.3-9.2 3.2-14.2l-83.7-189c-3.2-7.4-3.9-13.4-2.1-18.1 1.7-4.3 5.2-6.5 7.9-7.7l3.7-1.6c12.3-5.3 22.8-.6 28.6 12.9L310.2 350c1.4 3.2 5.1 4.6 8.3 3.3 3.2-1.4 4.7-5.1 3.3-8.3l-48.7-112.5c-2.2-5.2-3-10.8-2-15.4 1.1-5.4 4.5-9.3 9.9-11.7l3.7-1.6c5.3-2.3 11.1-2.3 16.4-.2 5.3 2.2 9.5 6.3 11.8 11.6l43.9 101.5c.7 1.6 1.9 2.7 3.5 3.4 1.6.6 3.3.6 4.8-.1 3.2-1.4 4.7-5.1 3.3-8.3l-32.8-75.9c-8.2-18.9 4.8-25.6 7.5-26.8 10.8-4.7 23.5.4 28.2 11.3l28.9 66.7c1.4 3.2 5.1 4.7 8.3 3.3 3.2-1.4 4.7-5.1 3.3-8.3l-19.4-44.8c-1.3-3-4.9-13.2 3.8-16.9l3.7-1.6c5.2-2.3 11.1-2.3 16.4 0 5.3 2.3 9.6 6.4 11.9 11.8L471.7 331c12.7 29.3 15.1 59.9 6.8 86.3-8.7 27.6-27.9 48.5-55.6 60.5L395 489.9c-38.9 16.9-80.1 8.4-113.3-23.3zm44.6-239.2l.3 2.1-.5-1.1.2-1zm-62.4-3.8l.3 2.7-.6-1.3.3-1.4zM31 217c3.2 0 6-2.6 6-5.7v-40c0-3.2-2.8-5.7-6-5.7s-6 2.6-6 5.7v40c0 3.2 2.8 5.7 6 5.7zm0-66.3c3.2 0 6-2.6 6-5.7v-40c0-3.2-2.8-5.7-6-5.7s-6 2.6-6 5.7v40c0 3.1 2.8 5.7 6 5.7zM148 296h-40c-3.2 0-5.7 2.3-5.7 5.5s2.6 5.5 5.7 5.5h40c3.2 0 5.7-2.3 5.7-5.5s-2.6-5.5-5.7-5.5zM37 237.6c0-3.2-2.8-5.7-6-5.7s-6 2.6-6 5.7v40c0 3.2 2.8 5.7 6 5.7s6-2.6 6-5.7v-40zM31 84.4c3.2 0 6-2.6 6-5.7v-40c0-3.2-2.8-5.7-6-5.7s-6 2.6-6 5.7v40c0 3.1 2.8 5.7 6 5.7zM81.6 296H49.1c-1.7 0-3.4-.6-5-1.3-2.9-1.3-6.3-.1-7.5 2.8-1.3 2.9 0 6.3 2.9 7.5 3 1.3 6.3 2 9.6 2h32.5c3.2 0 5.7-2.3 5.7-5.5s-2.5-5.5-5.7-5.5zm60.6-281c3.2 0 5.7-2.8 5.7-6s-2.6-6-5.7-6h-40c-3.2 0-5.7 2.8-5.7 6s2.6 6 5.7 6h40z"}}),t._v(" "),n("path",{attrs:{d:"M323 122.4c-3.2 0-6 2.6-6 5.7v39.2c0 3.2 2.8 5.7 6 5.7s6-2.6 6-5.7v-39.2c0-3.1-2.8-5.7-6-5.7zm6-60.6c0-3.2-2.8-5.7-6-5.7s-6 2.6-6 5.7v40c0 3.2 2.8 5.7 6 5.7s6-2.6 6-5.7v-40zM301.2 15h3.6c6.8 0 12.2 5.6 12.2 12.4v8.1c0 3.2 2.8 5.7 6 5.7s6-2.6 6-5.7v-8.1C329 14.3 317.9 3 304.8 3h-3.6c-3.2 0-5.7 2.8-5.7 6s2.5 6 5.7 6zm-66.3 0h40c3.2 0 5.7-2.8 5.7-6s-2.6-6-5.7-6h-40c-3.2 0-5.7 2.8-5.7 6s2.5 6 5.7 6zm-60.6 292h40c3.2 0 5.7-2.3 5.7-5.5s-2.6-5.5-5.7-5.5h-40c-3.2 0-5.7 2.3-5.7 5.5s2.5 5.5 5.7 5.5zm-5.8-292h40c3.2 0 5.7-2.8 5.7-6s-2.6-6-5.7-6h-40c-3.2 0-5.7 2.8-5.7 6s2.6 6 5.7 6zM37.1 19.8c1.4 0 2.7-.6 3.8-1.5 2.3-2 5.2-3.2 8.2-3.2h26.8c3.2 0 5.7-2.8 5.7-6s-2.6-6-5.7-6H49.1c-5.9 0-11.5 2.5-15.9 6.5-2.3 2.1-2.5 5.9-.4 8.2 1.1 1.2 2.7 2 4.3 2z"}})])]),t._v(" "),n("div",{staticClass:"text-center"},[n("label",{staticClass:"drag-text"},[t._v(t._s(t.dragText))]),t._v(" "),n("br"),t._v(" "),n("a",{staticClass:"browse-text"},[t._v(t._s(t.browseText))])]),t._v(" "),n("div",{staticClass:"image-input position-absolute full-width full-height"},[n("label",{staticClass:"full-width full-height cursor-pointer",attrs:{for:t.idUpload}})])])]),t._v(" "),t.images.length&&t.multiple?n("div",{staticClass:"image-list-container display-flex flex-wrap"},[t._l(t.images,(function(image,e){return n("v-avatar",{key:e,staticClass:"mr-1 mb-1 cp",attrs:{size:"44"},on:{click:function(n){return t.changeHighlight(e)}}},[n("img",{class:image.highlight&&"image-highlight pa-1 ",attrs:{src:image.path}})])})),t._v(" "),t.images.length<t.maxImage?n("v-btn",{staticClass:"cp white",attrs:{large:"",icon:"",tag:"label",depressed:"",for:t.idUpload}},[n("v-icon",[t._v("mdi-plus")])],1):t._e()],2):t._e(),t._v(" "),n("div",[n("input",{staticClass:"display-none",attrs:{id:t.idUpload,name:"images",multiple:t.multiple,accept:t.accept,type:"file"},on:{change:t.uploadFieldChange}}),t._v(" "),n("input",{staticClass:"display-none",attrs:{id:t.idEdit,name:"image",accept:t.accept,type:"file"},on:{change:t.editFieldChange}})])])}),[],!1,null,"b4dfa440",null),$=component.exports;function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}v()(component,{VAvatar:f.a,VBtn:_.a,VCardActions:x.a,VIcon:w.a,VSpacer:y.a,VTooltip:C.a}),z()(component,{Ripple:k.a});var j={nuxtI18n:!1,components:{Search:l.a,Upload:$},data:function(){return{is_send:!1,step:1,key_id:null,init_model:"",is_full:!1,loading:!1,overlay:!1,first_overlay:!0,onboarding:0,models:[],ts_model_coms:[],years:[],images:[],titles:["Identifiez votre véhicule","META","INFO","IMAGES"],governorates:[],versions:[],cities:[],fields:{},meta_data:{},form:{}}},computed:{categories:function(){return Object.keys(this.fields)}},watch:{"form.governorate_id":function(t){var e=this;this.$api("public/car/city",{params:{governorate_id:t}}).then((function(t){e.cities=t.data.result,e.cities.unshift({name:"Autre",id:null})}))},onboarding:function(t){}},methods:{setModel:function(t){t.length>0&&(t=t[0],this.$set(this.form,"title",t.q),this.$set(this.form,"model_id",t.model_id),this.$set(this.form,"make_id",t.make_id),this.save())},setMetaData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get("public/car/meta-data",{params:{ts_model_com_id:t.form.ts_model_com_id}}).then((function(e){t.meta_data=e.data.result}));case 2:case"end":return e.stop()}}),e)})))()},setImage:function(t,e,n,r){this.$api.post("public/car/image",{type:e,id:t[n].id,path:t[n].path,key_id:this.key_id},{timeout:1e5}).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.data.result.id&&(t[n].id=r.data.result.id);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.images=t,r()},next:function(){this.onboarding=this.onboarding+1===this.categories.length?this.onboarding:this.onboarding+1},prev:function(){this.onboarding=this.onboarding-1<0?this.categories.length-1:this.onboarding-1},save:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return[],e.form.key_id=e.key_id,n.next=4,e.$api.post("public/car",O({},e.form)).then(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.key_id=n.data.result.key_id;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:t&&(e.is_send=!0);case 5:case"end":return n.stop()}}),n)})))()}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.key_id=t.$route.query.key_id,n=new Date,i=n.getFullYear();i>=1930;i--)t.years.push(i);return t.$api("public/car/governorate").then((function(e){t.governorates=e.data.result})),e.next=6,t.$api.get("public/car/make-model").then((function(e){t.models=e.data.result,t.models=t.models.map((function(t){return t.q=t.make+" "+(t.model?t.model:""),t.text=t.model?"<b>"+t.make+"</b> "+t.model:"<b>"+t.make+"</b>",t})),t.models.unshift({q:"Autre",text:"<b>Null</b>",make:null})}));case 6:t.$route.query.key_id&&(t.key_id=t.$route.query.key_id,t.$api("public/car",{params:{key_id:t.key_id}}).then((function(e){t.form=e.data.result,t.images=e.data.result.images,t.models.forEach((function(e){e.model_id==t.form.model_id&&(t.form.make=e.make,t.form.model=e.model)}))}))),t.setMetaData();case 8:case"end":return e.stop()}}),e)})))()}},D=n(174),V=n(389),E=n(404),H=n(147),S=n(115),P=n(51),A=n(391),R=n(528),L=n(520),B=n(521),T=n(522),U=n(378),F=Object(m.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",[r("v-img",{staticClass:"back card-index rounded overflow-hidden",staticStyle:{"min-height":"450px"}},[t.is_send?[r("v-card",{staticClass:"text-center mx-auto stripe-btn pa-3",attrs:{"max-width":"400"}},[r("img",{staticClass:"mx-auto ma-4 mb-1",attrs:{src:"https://image.flaticon.com/icons/svg/190/190411.svg",width:"140",alt:""}}),t._v(" "),r("h3",{staticClass:"ma-3"},[t._v("\n              "+t._s(t.$t("thnx"))+" "+t._s(t.form.first_name)+",\n              "+t._s(t.$t("order_recived"))+" ("+t._s(t.form.phone)+")\n            ")])])]:r("v-row",[r("v-col",{attrs:{cols:"12",md:"5"}},[r("v-card-actions",{staticClass:"px-0 mb-4 font-weight-bold"},[r("img",{staticClass:"mx-2",attrs:{src:n(443),height:"60",alt:"                Vendez votre voiture plus vite avec Autoprix\n"}}),t._v(" "),r("h1",{staticClass:"headline font-weight-bold"},[t._v("\n                Vendez votre voiture plus vite avec Autoprix\n              ")])]),t._v(" "),r("v-stepper",{staticClass:"transparent elevation-0 overflow-init",attrs:{eager:!0,vertical:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[r("v-stepper-step",{attrs:{complete:t.step>1,step:"1"}},[r("span",{staticClass:"title tajawal font-weight-black"},[t._v("\n                  Sélectionnez votre véhicule")])]),t._v(" "),r("v-stepper-content",{attrs:{step:"1"}},[r("v-card",{staticClass:"elevation-0 transparent"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"12"}},[r("search",{staticClass:"mb-1 rounded",attrs:{height:50,make:t.form.make,model:t.form.model,list:t.models,init_value:t.form.model?t.form.make+" "+t.form.model:"",border:!0,keys:["q","make","model"],icon:"mdi-car",placeholder:"Ex: Golf 6"},on:{onSelect:t.setModel}})],1),t._v(" "),t.form.make_id?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"6"}},[r("v-select",{staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",items:t.years,placeholder:"",label:"Année"},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1):t._e(),t._v(" "),t.form.make_id?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"6"}},[r("v-text-field",{staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",items:t.years,placeholder:"Ex : 150000",label:"Kilométrage",type:"number"},model:{value:t.form.odometer,callback:function(e){t.$set(t.form,"odometer",e)},expression:"form.odometer"}})],1):t._e(),t._v(" "),t._l(Object.keys(t.meta_data),(function(meta,e){return[!t.form.make_id||"fuel_type"!=meta&&"gearbox"!=meta?t._e():r("v-col",{key:e,staticClass:"pa-1 py-2",attrs:{cols:"6"}},[r("v-select",{key:e,staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",items:t.meta_data[meta],label:t.$t("md_"+meta),"item-text":"name","item-value":"id","append-icon":t.form[meta+"_id"]?"mdi-delete":""},on:{change:function(e){return t.save()},"click:append":function(e){t.form[meta+"_id"]=null}},model:{value:t.form[meta+"_id"],callback:function(e){t.$set(t.form,meta+"_id",e)},expression:"form[meta + '_id']"}})],1)]})),t._v(" "),t.form.make_id?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",items:t.years,label:t.$t("price"),type:"number"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1):t._e()],2)],1),t._v(" "),r("v-card-actions",{staticClass:"pa-1 mt-3"},[r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"stripe-btn",attrs:{color:"primary",disabled:!t.form.title&&!t.form.model},on:{click:function(e){t.step++}}},[t._v("\n                    "+t._s(t.$t("next"))+" "),r("v-icon",[t._v("mdi-arrow-down")])],1)],1)],1),t._v(" "),r("v-stepper-step",{attrs:{complete:t.step>2,step:"2"}},[r("span",{staticClass:"title tajawal font-weight-black"},[t._v("\n                  Renseignez vos coordonnées")])]),t._v(" "),r("v-stepper-content",{attrs:{step:"2"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",type:"number",items:t.years,label:t.$t("phone"),"append-icon":"mdi-phone",name:"phone"},on:{change:function(e){return t.save()}},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),t.form.phone?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"12"}},[r("v-select",{staticClass:"white",attrs:{outlined:"",dense:"",items:t.governorates,"hide-details":"",name:"governorate",label:t.$t("governorate"),"item-text":"name","append-icon":"mdi-map","item-value":"id"},on:{change:function(e){return t.save()}},model:{value:t.form.governorate_id,callback:function(e){t.$set(t.form,"governorate_id",e)},expression:"form.governorate_id"}})],1):t._e(),t._v(" "),t.form.governorate_id?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"12"}},[r("v-select",{staticClass:"white",attrs:{outlined:"",dense:"",items:t.cities,"hide-details":"",label:t.$t("city"),"item-text":"name","item-value":"id"},on:{change:function(e){return t.save()}},model:{value:t.form.city_id,callback:function(e){t.$set(t.form,"city_id",e)},expression:"form.city_id"}})],1):t._e(),t._v(" "),t.form.phone?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"6"}},[r("v-text-field",{staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",items:t.years,name:"first_name",label:t.$t("first_name")},on:{change:function(e){return t.save()}},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1):t._e(),t._v(" "),t.form.phone?r("v-col",{staticClass:"pa-1 py-2",attrs:{cols:"6"}},[r("v-text-field",{staticClass:"white",attrs:{outlined:"",dense:"","hide-details":"",items:t.years,name:"last_name",label:t.$t("last_name")},on:{change:function(e){return t.save()}},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1):t._e()],1),t._v(" "),r("v-card-actions",{staticClass:"pa-1"},[r("v-btn",{attrs:{text:""},on:{click:function(e){t.step--}}},[r("v-icon",[t._v("mdi-arrow-up")]),t._v(" "+t._s(t.$t("prev"))+"\n                  ")],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"stripe-btn",attrs:{color:"primary",disabled:!t.form.phone},on:{click:function(e){t.step++}}},[t._v("\n                    "+t._s(t.$t("next"))+" "),r("v-icon",[t._v("mdi-arrow-down")])],1)],1)],1),t._v(" "),r("v-stepper-step",{attrs:{complete:t.step>3,step:"3"}},[r("span",{staticClass:"title tajawal font-weight-black"},[t._v("\n                  Déposez vos photos ici")])]),t._v(" "),r("v-stepper-content",{attrs:{step:"3"}},[r("v-card",{staticClass:"elevation-0"},[r("Upload",{attrs:{dataImages:t.images,maxImage:20},on:{"set-images":t.setImage}})],1),t._v(" "),r("v-card-actions",{staticClass:"pa-1 mt-4"},[r("v-btn",{attrs:{text:""},on:{click:function(e){t.step--}}},[r("v-icon",[t._v("mdi-arrow-up")]),t._v(" "+t._s(t.$t("prev"))+"\n                  ")],1),t._v(" "),r("v-spacer")],1),t._v(" "),r("v-btn",{staticClass:"white--text stripe-btn title mt-2",attrs:{block:"",large:"",color:"primary"},on:{click:function(e){return t.save(!0)}}},[t._v("\n                  "+t._s(t.$t("send"))+"\n                ")])],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6","offset-md":"2"}},[r("v-card",{staticClass:"transparent rounded pa-2 elevation-0"},[r("img",{attrs:{src:n(500),alt:"Comment se passe la vente de votre véhicule avec Autoprix ?"}}),t._v(" "),r("h2",{staticClass:"text-2xl font-bold text-center px-4 mb-2"},[t._v("\n                Comment se passe la vente de votre véhicule avec Autoprix ?\n              ")]),t._v(" "),r("v-card",{staticClass:"elevation-0 text-center mb-2 mt-2"},[r("v-list-item",{staticClass:"text-left pa-2",attrs:{"two-line":""}},[r("v-list-item-content",{staticClass:"pa-2"},[r("h4",{staticClass:"title"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"37.292",height:"37.298",viewBox:"0 0 37.292 37.298"}},[r("g",{attrs:{fill:"#ff4d00"}},[r("path",{attrs:{d:"M10.488 32.636v2.331a2.331 2.331 0 0 1-2.331 2.331H5.826a2.331 2.331 0 0 1-2.331-2.331v-3.355a4.641 4.641 0 0 0 2.914 1.024zM23.272 16.32h-9.251a3.5 3.5 0 0 0-3.247 2.2l-.985 2.464h17.715l-.986-2.463a3.5 3.5 0 0 0-3.246-2.201zm7.609 16.316h-4.077v2.331a2.331 2.331 0 0 0 2.331 2.331h2.331a2.331 2.331 0 0 0 2.331-2.331v-3.355a4.641 4.641 0 0 1-2.916 1.024zm5.823-25.057h-4.079l-1.744-1.748 1.748-1.748h4.079a.589.589 0 0 0 .528-.848 5.763 5.763 0 0 0-10.482.265H10.561a5.782 5.782 0 0 0-10.5-.264.589.589 0 0 0 .528.847h4.078l1.749 1.748-1.749 1.748H.588a.589.589 0 0 0-.528.848 5.759 5.759 0 0 0 10.477-.265h16.195a5.783 5.783 0 0 0 10.5.264.589.589 0 0 0-.529-.847z",opacity:".4"}}),t._v(" "),r("path",{attrs:{d:"M32.667 21.339l-.369-.923-1.452-3.63a8.12 8.12 0 0 0-7.575-5.128H14.02a8.119 8.119 0 0 0-7.575 5.128l-1.45 3.629-.369.923a4.662 4.662 0 0 0-2.878 4.3v2.331a4.662 4.662 0 0 0 4.662 4.662h24.473a4.662 4.662 0 0 0 4.662-4.662v-2.331a4.662 4.662 0 0 0-2.878-4.299zm-21.893-2.821a3.5 3.5 0 0 1 3.247-2.2h9.251a3.5 3.5 0 0 1 3.247 2.2l.985 2.464H9.789zM6.991 29.125a2.324 2.324 0 1 1 0-4.647c1.4 0 3.5 2.091 3.5 3.485s-2.101 1.162-3.499 1.162zm25.64-2.324a2.2 2.2 0 0 1-2.331 2.324c-1.4 0-3.5.232-3.5-1.162s2.1-3.485 3.5-3.485a2.2 2.2 0 0 1 2.331 2.323z"}})])]),t._v("\n                      1. Inspection de la voiture\n                    ")]),t._v(" "),r("small",{staticClass:"grey--text body-2"},[t._v("Inspection pour 89 DT chez notre partenaire ou à\n                      domicile"),r("br"),t._v("Définition du prix de vente avec notre\n                      inspecteur.\n                    ")])])],1)],1),t._v(" "),r("v-card",{staticClass:"elevation-0 text-center mb-2"},[r("v-list-item",{staticClass:"text-left pa-2",attrs:{"two-line":""}},[r("v-list-item-content",{staticClass:"pa-2"},[r("h4",{staticClass:"title"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"45.518",height:"36.414",viewBox:"0 0 45.518 36.414"}},[r("path",{attrs:{fill:"#ff4d00",d:"M9.1 4.552h22.762v2.276h4.552V3.414A3.421 3.421 0 0 0 33.007 0H7.959a3.421 3.421 0 0 0-3.407 3.414v17.069H1.138A1.138 1.138 0 0 0 0 21.621v1.138a4.562 4.562 0 0 0 4.545 4.552h20.49v-6.828H9.1z",opacity:".4"}}),t._v(" "),r("path",{attrs:{fill:"#ff4d00",d:"M42.958 9.104H29.871a2.56 2.56 0 0 0-2.56 2.56v22.19a2.56 2.56 0 0 0 2.56 2.56h13.086a2.56 2.56 0 0 0 2.56-2.56v-22.19a2.56 2.56 0 0 0-2.559-2.56zm-1.991 22.759h-9.1V13.656h9.1z"}})]),t._v("\n                      2. Mise en ligne de l’annonce avec rapport détaillé\n                    ")]),t._v(" "),r("small",{staticClass:"grey--text body-2"},[t._v("Publier sur Autoprix en tant que "),r("b",[t._v("Voiture contrôlée")]),r("br"),t._v("\n                      Publier sur les autres sites d’annonces"),r("br"),t._v("\n                      Publication sponsorisée sur Facebook et Instagram\n                    ")])])],1)],1),t._v(" "),r("v-card",{staticClass:"elevation-0 text-center mb-2"},[r("v-list-item",{staticClass:"text-left pa-2",attrs:{"two-line":""}},[r("v-list-item-content",{staticClass:"pa-2"},[r("h4",{staticClass:"title"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"34.704",height:"34.704",viewBox:"0 0 34.704 34.704"}},[r("path",{attrs:{fill:"#ff4d00",d:"M13.014 31.451a3.254 3.254 0 0 1 3.254-3.251h2.169a3.254 3.254 0 0 1 3.254 3.254h6.895a2.866 2.866 0 0 0 2.866-2.866s0-11.068-.008-11.233h.008a14.1 14.1 0 1 0-28.2 0v1.085a1.085 1.085 0 0 1-1.085 1.085H1.085A1.085 1.085 0 0 1 0 18.437v-1.085C.31 8.054 7.672 0 17.352 0S34.394 8.054 34.7 17.352v11.233a6.119 6.119 0 0 1-6.115 6.115H16.268a3.254 3.254 0 0 1-3.254-3.249z",opacity:".4"}}),t._v(" "),r("path",{attrs:{fill:"#ff4d00",d:"M24.944 11.93H23.86a2.169 2.169 0 0 0-2.169 2.169v7.592a2.169 2.169 0 0 0 2.169 2.169h1.085a4.338 4.338 0 0 0 4.338-4.338v-3.254a4.338 4.338 0 0 0-4.339-4.338zm-14.1 0H9.761a4.338 4.338 0 0 0-4.338 4.338v3.254a4.338 4.338 0 0 0 4.338 4.338h1.085a2.169 2.169 0 0 0 2.169-2.169v-7.592a2.169 2.169 0 0 0-2.169-2.169z"}})]),t._v("\n                      3. Gestion des demandes d’achats\n                    ")]),t._v(" "),r("small",{staticClass:"grey--text body-2"},[t._v("Tri des clients pas sérieux, Gachara et des arnaques"),r("br"),t._v("Gestion\n                      réactive des potentiels acheteurs\n                    ")])])],1)],1),t._v(" "),r("v-card",{staticClass:"elevation-0 text-center mb-2"},[r("v-list-item",{staticClass:"text-left pa-2",attrs:{"two-line":""}},[r("v-list-item-content",{staticClass:"pa-2"},[r("h4",{staticClass:"title"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"39.687",height:"35.275",viewBox:"0 0 39.687 35.275"}},[r("g",{attrs:{fill:"#ff4d00"}},[r("path",{attrs:{d:"M4.409 27.559a1.1 1.1 0 0 0 1.1 1.1h.854a2.974 2.974 0 0 0 2.827-2.032l.731-2.2 1.16 3.477a1.1 1.1 0 0 0 2.031.144l.53-1.057a.752.752 0 0 1 .689-.426.763.763 0 0 1 .7.449 2.963 2.963 0 0 0 2.606 1.644H24.6l1.86-1.873v6.845a1.649 1.649 0 0 1-1.66 1.645H1.645A1.649 1.649 0 0 1 0 33.622V1.645A1.649 1.649 0 0 1 1.653 0h15.985v7.716a1.1 1.1 0 0 0 1.1 1.1h7.716v8.52l-6.614 6.568v2.549h-2.2a.8.8 0 0 1-.644-.448 3.092 3.092 0 0 0-4.547-.976l-.956-2.869a1.654 1.654 0 0 0-3.138 0L7.1 25.929a.772.772 0 0 1-.731.528h-.857a1.1 1.1 0 0 0-1.103 1.102z",opacity:".4"}}),t._v(" "),r("path",{attrs:{d:"M26.457 8.4a1.647 1.647 0 0 0-.482-1.164L19.23.482A1.653 1.653 0 0 0 18.058 0h-.42v7.716a1.1 1.1 0 0 0 1.1 1.1h7.716zm-6.619 15.507v4.754h4.754l11.146-11.215-4.677-4.677zm19.33-12.377l-2.2-2.2a1.755 1.755 0 0 0-2.48 0l-1.877 1.877 4.677 4.677 1.877-1.877a1.753 1.753 0 0 0 0-2.481z"}})])]),t._v("\n                      4. Organisation de la vente\n                    ")]),t._v(" "),r("small",{staticClass:"grey--text body-2"},[t._v("Prise de RDV avec l’acheteur, notre inspecteur et vous"),r("br"),t._v("Préparation\n                      des documents administratifs"),r("br"),t._v("Commission faible de 1%\n                      du montant de la voiture\n                    ")])])],1)],1)],1)],1)],1)],2)],1)],1)}),[],!1,null,null,null);e.default=F.exports;v()(F,{VBtn:_.a,VCard:D.a,VCardActions:x.a,VCol:V.a,VContainer:E.a,VIcon:w.a,VImg:H.a,VListItem:S.a,VListItemContent:P.a,VRow:A.a,VSelect:R.a,VSpacer:y.a,VStepper:L.a,VStepperContent:B.a,VStepperStep:T.a,VTextField:U.a})}}]);