(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{409:function(t,e,n){"use strict";n(43),n(22),n(23),n(5);var r={props:{datetime:{default:"1587352244"},locale:{default:"fr"}},data:function(){return{counterInterval:null,date:"",locales:{fr:{prefix:"il y a ",suffix:"",seconds:"%d secondes",minute:"une minute",minutes:"%d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d années"},ar:{prefix:"",suffix:"",seconds:" %d arab",minute:"Environ une arab",minutes:"%d arab",hour:"Environ une heure",hours:"%d heures",day:"un arab",days:"%d jours",month:"environ un arab",months:"%d mois",year:"environ un an",years:"%d années"}}}},watch:{local:function(t){this.date=this.timer(this.datetime)}},methods:{timer:function(time){if(time){time=(time=(time=(time=(time=time.toString()).replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),time=new Date(1e3*time||time);var t=.001*((new Date).getTime()-time)>>0,e=t/60,n=e/60,r=n/24,o=r/365;return this.locales[this.locale].prefix+(t<45&&this.template("seconds",t)||t<90&&this.template("minute",1)||e<45&&this.template("minutes",e)||e<90&&this.template("hour",1)||n<24&&this.template("hours",n)||n<42&&this.template("day",1)||r<30&&this.template("days",r)||r<45&&this.template("month",1)||r<365&&this.template("months",r/30)||o<1.5&&this.template("year",1)||this.template("years",o))+this.locales[this.locale].suffix}},template:function(t,e){return this.locales[this.locale][t]&&this.locales[this.locale][t].replace(/%d/i,Math.abs(Math.round(e)))}},created:function(){var t=this;this.date=this.timer(this.datetime),this.counterInterval=setInterval((function(){t.date=t.timer(t.datetime)}),1e3)},destoyed:function(){clearInterval(this.counterInterval)}},o=n(35),component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v(this._s(this.date))])}),[],!1,null,null,null);e.a=component.exports},484:function(t,e,n){"use strict";n.r(e);n(43),n(52);var r=n(17),o={components:{TimeAgo:n(409).a},data:function(){return{news:[],detail:{},runtime:0,params:{cp:1}}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,title,o,l,c,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.app,title="News",o="Sur autoprix.tn ® retrouvez plus de 40 000 annonces",l=[],c={},m=0,e.next=8,r.$api.get("/public/news/all",{params:n}).then((function(t){l=t.data.result,c=t.data.detail,m=t.data.runtime})).catch((function(t){console.log(t)}));case 8:return e.abrupt("return",{news:l,detail:c,runtime:m,meta:{title:title,description:o}});case 9:case"end":return e.stop()}}),e)})))()},methods:{goToPrev:function(){this.params.cp=parseInt(this.params.cp)-1,this.f_goToUp(),this.init()},goToNext:function(t){this.params.cp=parseInt(this.params.cp)+1,this.f_goToUp(),this.init()},goToPage:function(){this.f_goToUp(),this.init()},init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get("/public/news/all",{params:t.params}).then((function(e){t.news=e.data.result,t.detail=e.data.detail,t.runtime=e.data.runtime}));case 2:t.$router.replace(t.localePath({name:"news",query:t.params})).catch((function(t){}));case 3:case"end":return e.stop()}}),e)})))()}},created:function(){this.params=Object.assign(this.params,this.$route.query)}},l=n(35),c=n(42),m=n.n(c),d=n(189),h=n(190),v=n(51),f=n(391),_=n(408),w=n(269),y=n(122),x=n(164),C=n(393),$=n(394),T=n(380),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",md:"8"}},[n("v-card-actions",{staticClass:"pa-0"},[n("h4",{staticClass:"my-2"},[t._v(t._s(t.f_numberFormat(t.detail.total))+" résultats "+t._s(t.f_numberFormat(t.runtime))+"s")]),t._v(" "),n("v-spacer"),t._v(" "),t._l(t.$i18n.locales,(function(e,r){return n("v-btn",{key:r,staticClass:"mx-1 float-right",attrs:{link:"",text:"",replace:""},nativeOn:{click:function(n){t.params.lang=e.code,t.params.cp=1,t.init(),t.switchLocalePath(e.code)}}},[t._v(t._s(e.name))])}))],2),t._v(" "),t._l(t.news,(function(e){return n("a",{key:e.id,attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer"}},[n("v-card",{staticClass:"elevation-0 mb-2"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pa-2",attrs:{cols:"12",sm:"3"}},[n("div",{staticClass:"align-self-center line-height grey lighten-2",staticStyle:{height:"100%"}},[n("v-img",{staticClass:"center-in",attrs:{src:e.image,"max-height":"100"}})],1)]),t._v(" "),n("v-col",{staticClass:"pa-2 pt-1",class:t.isArabic(e.title)?"is_rtl":"",attrs:{cols:"12",sm:"9"}},[n("small",[n("client-only",[n("time-ago",{attrs:{refresh:1,datetime:e.date,locale:t.$i18n.locale}})],1),t._v("\n                  "+t._s(e.author)+" - "+t._s(e.provider_name)+"\n                ")],1),t._v(" "),n("v-list-item",{staticClass:"pa-0 my-1",attrs:{"three-line":""}},[n("v-list-item-content",{staticClass:"pa-0"},[n("h3",{staticClass:"title font-weight-bold mb-2"},[t._v(t._s(e.title))]),t._v(" "),n("v-list-item-title",{staticClass:"caption mb-1"},[t._v(t._s(e.url))]),t._v(" "),n("v-list-item-subtitle",[t._v(t._s(e.description))])],1)],1)],1)],1)],1)],1)})),t._v(" "),n("v-card-actions",{staticClass:"text-center px-1"},[n("v-btn",{attrs:{color:"primary",depressed:"",link:"",disabled:t.params.cp<2},on:{click:function(e){return t.goToPrev()}}},[t._v(t._s(t.$t("prev_page")))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-text-field",{staticClass:"mx-2",staticStyle:{"max-width":"70px"},attrs:{outlined:"",flat:"",dense:"",type:"number","hide-details":"",name:"name",label:t.$t("page_number"),id:"id",width:"70"},on:{"click:append-icon":function(e){return t.goToPage()},change:function(e){return t.goToPage()}},model:{value:t.params.cp,callback:function(e){t.$set(t.params,"cp",e)},expression:"params.cp"}}),t._v("\n          "+t._s(t.$t("of"))+" "+t._s(t.detail.pages)+"\n          "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary",depressed:"",disabled:t.params.cp>t.detail.pages-1},nativeOn:{click:function(e){return t.goToNext(e)}}},[t._v(t._s(t.$t("next_page")))]),t._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{to:t.localePath({name:"search",query:t.params})}},[t._v(t._s(t.$t("prev")))]),t._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{to:t.localePath({name:"search",query:t.params})}},[t._v(t._s(t.$t("next")))])],1)],2)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:d.a,VCard:h.a,VCardActions:v.a,VCol:f.a,VContainer:_.a,VImg:w.a,VListItem:y.a,VListItemContent:x.a,VListItemSubtitle:x.b,VListItemTitle:x.c,VRow:C.a,VSpacer:$.a,VTextField:T.a})}}]);