(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{434:function(t,e,r){"use strict";var n={props:{value:{},text:{},color:{}},data:function(){return{value_rest:0}},created:function(){this.value_rest=Math.abs(5-this.value)}},o=r(20),c=r(26),l=r.n(c),d=r(127),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("client-only",[r("span",{staticClass:"progress caption font-weight-bold pl-0"},[t._l(t.value,(function(i,e){return r("v-icon",{key:"d"+e,style:{color:t.color},attrs:{small:""}},[t._v("mdi-steering")])})),t._v(" "),t._l(t.value_rest,(function(i,e){return r("v-icon",{key:"db"+e,staticStyle:{color:"#d9d9d9"},attrs:{small:""}},[t._v("mdi-steering")])})),t._v(" "),r("span",{staticStyle:{"font-size":"11px"},style:{color:t.color}},[t._v(t._s(t.text))])],2)])],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VIcon:d.a})},441:function(t,e,r){"use strict";r(48),r(36);var n=r(434),o=r(218),c=r(217),l={components:{Indicator:n.a,Favorite:o.a,TimeAgo:c.a},props:{product:{dafault:[]}},data:function(){return{image_index:0,is_show_phone:!1,isActive:!1}},computed:{color:function(){return this.product.price_description?this.$t("COLOR_"+this.product.price_description):(this.product.price_median,"green")},description:function(){return this.product.description?((this.product.title||" ").replace("- Tayara","")!=this.product.make+" "+this.product.model?"<b>"+(this.product.title||" ").replace("- Tayara","")+"</b> - ":"")+(this.product.description||" ").split("\\n").join(" ").replace(/<\/?[^>]+(>|$)/g,""):(this.product.title||" ").replace("- Tayara","")!=this.product.make+" "+this.product.model?"<b>"+(this.product.title||" ").replace("- Tayara","")+"</b>":""}},methods:{share:function(){var t="https://www.autoprix.tn"+this.$router.resolve(this.localePath({name:"car-id",params:{id:this.product.url_id}})).href;this.$store.commit("layout/share",{is_open:!0,url:t,title:this.product.make+" "+this.product.model})}},created:function(){}},d=r(20),m=r(26),h=r.n(m),_=r(201),v=r(196),f=r(197),x=r(19),y=r(458),C=r(459),w=r(411),k=r(127),O=r(460),$=r(128),V=r(74),j=r(412),P=r(413),S=r(461),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"elevation-0",attrs:{tile:t.$vuetify.breakpoint.smAndDown}},[r("v-list-item",{staticClass:"pa-1 px-1 pr-2"},[r("v-avatar",{staticClass:"mx-2",attrs:{left:"",size:"35",color:t.color}},[r("span",{staticClass:"white--text headline capitalize"},[t._v(t._s(t.product.seller[0]))])]),t._v(" "),r("v-list-item-content",{staticClass:"py-0 pb-0"},[r("h4",{staticClass:"font-weight-bold body-2 mb-0 capitalize"},[t._v(t._s(t.product.seller))]),t._v(" "),r("v-list-item-title",{staticClass:"caption"},[r("client-only",[r("time-ago",{attrs:{datetime:t.product.last_updated,locale:t.$i18n.locale}}),t._v(",\n        ")],1),t._v("\n        "+t._s(t.$t(t.product.governorate))+t._s(t.product.city?", "+t.$t(t.product.city):"")+"\n      ")],1)],1),t._v(" "),r("client-only",[1==t.product.is_sold?r("v-btn",{staticClass:"warning elevation-0 mr-1 is_ltr",attrs:{depressed:"",dark:""}},[r("v-icon",[t._v("mdi-alert-circle-outline")]),t._v(" "),r("span",{staticClass:"ml-1"},[t._v("Vendue")])],1):t._e(),t._v(" "),r("span",{staticClass:"float-right",staticStyle:{position:"relative","z-index":"2"}},[r("v-btn",{staticClass:"white px-0",attrs:{depressed:""},on:{click:t.share}},[r("v-icon",{attrs:{title:"Partagez la voiture directement"}},[t._v("mdi-share")])],1),t._v(" "),r("Favorite",{staticClass:"white px-0",attrs:{product_id:t.product.id}})],1)],1)],1),t._v(" "),r("div",{staticClass:"grey darken-5"},[r("span",{staticClass:"image_thumb_imfo grey darken-4 border-radius px-1 grey--text"},[t._v("\n      "+t._s(t.image_index+1)+"/"+t._s(t.product.image.length)+"\n      "),r("v-icon",{staticClass:"grey--text"},[t._v("mdi-camera")])],1),t._v(" "),r("v-lazy",{attrs:{"min-height":t.$vuetify.breakpoint.smAndDown?"220":"200",transition:"fade-transition"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[r("client-only",[r("v-carousel",{attrs:{lazy:"",continuous:!0,"show-arrows":t.product.image.length>1,"hide-delimiter-background":"",cycle:!1,"hide-delimiters":"",height:t.$vuetify.breakpoint.smAndDown?"220":"200"},model:{value:t.image_index,callback:function(e){t.image_index=e},expression:"image_index"}},t._l(t.product.image,(function(img,i){return r("v-carousel-item",{key:i},[r("nuxt-link",{attrs:{to:t.localePath({name:"car-id",params:{id:t.product.url_id}})}},[r("div",{staticClass:"align-self-cente grey darken-4 height-100"},[r("img",{staticClass:"center-in",attrs:{src:img,alt:"Carte voiture "+t.product.make+" "+t.product.model}})])])],1)})),1)],1)],1)],1),t._v(" "),r("nuxt-link",{staticClass:"black--text",attrs:{to:t.localePath({name:"car-id",params:{id:t.product.url_id}})}},[r("v-list-item-content",{staticClass:"pa-1 px-2"},[r("v-card-actions",{staticClass:"pa-0 mb-0"},[r("h1",{staticClass:"font-weight-black title"},[t._v(t._s(t.product.make)+" "+t._s(t.product.model))]),t._v(" "),r("v-spacer"),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t.product.price_median?{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"float-right",style:{"background-color":t.color},attrs:{small:"",icon:""}},"v-btn",o,!1),n),[t.product.price_description?r("v-icon",{staticClass:"white--text"},[t._v(t._s(t.$t("ICON_"+t.product.price_description)))]):r("v-icon",{staticClass:"white--text"},[t._v("mdi-cash")])],1)]}}:null],null,!0)},[t._v(" "),t.product.price?r("span",[t._v("\n            "+t._s(t.product.price-t.product.price_median>=0?"+":"-")+"\n            "+t._s(t.f_numberFormat(Math.abs(t.product.price-t.product.price_median),t.$t("currency")))+"\n            par rapport au prix du marché\n          ")]):r("span",[t._v(t._s(t.f_numberFormat(t.product.price_median,t.$t("currency"))))])])],1),t._v(" "),r("v-card-actions",{staticClass:"pa-0"},[r("h3",{staticClass:"title font-weight-black"},[t._v(t._s(t.f_numberFormat(t.product.price,t.$t("currency"))))]),t._v(" "),r("v-spacer"),t._v(" "),t.product.price_description&&0!=t.product.price?r("div",{staticClass:"body-2 text-right font-weight-bold"},[t._v(t._s(t.$t(t.product.price_description)))]):t.product.price_median?r("div",{staticClass:"body-2 text-right font-weight-bold"},[t._v("Voir l'estimation")]):t._e()],1)],1),t._v(" "),r("v-list-item",{staticClass:"px-2",style:{"min-height":t.$vuetify.breakpoint.smAndDown?"":"40px"},attrs:{"three-line":""}},[null!=t.description?r("v-list-item-subtitle",{staticClass:"caption capitalize",class:t.isArabic(t.description)?"is_rtl":"",domProps:{innerHTML:t._s(t.description)}}):t._e()],1),t._v(" "),r("v-row",{staticClass:"ma-0 mt-1 card-detail text-center",attrs:{"no-gutters":""}},[r("v-col",{staticClass:"pb-2 font-weight-bold caption",attrs:{cols:"4"}},[t._v(t._s(t.product.year?t.product.year:t.$t("NC")))]),t._v(" "),r("v-col",{staticClass:"pb-2 font-weight-bold caption",attrs:{cols:"4"}},[t._v(t._s(t.product.odometer?t.f_numberFormat(t.product.odometer,t.$t("Km")):t.$t("NC")))]),t._v(" "),r("v-col",{staticClass:"pb-2 font-weight-bold caption",attrs:{cols:"4"}},[t._v(t._s(t.product.fuel_type?t.product.fuel_type:t.$t("NC")))])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VAvatar:_.a,VBtn:v.a,VCard:f.a,VCardActions:x.a,VCarousel:y.a,VCarouselItem:C.a,VCol:w.a,VIcon:k.a,VLazy:O.a,VListItem:$.a,VListItemContent:V.a,VListItemSubtitle:V.b,VListItemTitle:V.c,VRow:j.a,VSpacer:P.a,VTooltip:S.a})},448:function(t,e,r){"use strict";r(17);var n={props:{to:{type:[Number,String],required:!0,default:0},duration:{type:Number,default:10},height:{default:null}},data:function(){return{is_show:!1,current_nmuber:this.to,fresh:!0}},computed:{tweenedNumber:function(){return this.f_numberFormat(this.to)}},watch:{to:function(t){this.current_nmuber=t}},mounted:function(){this.is_show=!0,this.current_nmuber=this.to}},o=r(20),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v(this._s(this.current_nmuber))])}),[],!1,null,null,null);e.a=component.exports},455:function(t,e,r){t.exports=r.p+"img/976b169.svg"},456:function(t,e,r){t.exports=r.p+"img/ed63f0a.svg"},462:function(t,e,r){"use strict";r(31);var n=r(9),o=(r(17),{props:{range_id:{type:String,default:"range_id"},items:{default:[]},step:{default:1e3,type:Number},is_active:{default:!1,required:!1},value:{type:Array,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},suffix:{type:String,default:"",required:!1}},data:function(){return{is_first_time:!0,from:this.min,to:this.max,elements:[],range_value:[0,100],chart_diagram_options:{animationEnabled:!0,axisX:{labelFontSize:10,labelAngle:0,valueFormatString:"####.##"},axisY:{gridThickness:0,tickLength:0,lineThickness:0,labelFormatter:function(){return" "}},data:[{type:"column",color:"#559ee2",dataPoints:[]}]},chart_diagram:null}},watch:{is_active:{handler:function(t){var e=this;setTimeout((function(){e.initChart()}),10)}},items:{handler:function(t,e){this.elements=t,this.initChart()},deep:!0},value:{handler:function(t,e){this.range_value=t,this.from=t[0],this.to=t[1],this.initChart()}}},methods:{changeInput:function(){this.range_value=[Number(this.from),Number(this.to)],this.sendValue()},setValue:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)if(t)this.from<this.step?this.from=this.step:this.from=parseInt(this.from)+this.step;else{if(!(this.from>this.min))return!1;this.from=parseInt(this.from)-this.step}else this.to=t?parseInt(this.to)+this.step:parseInt(this.to)-this.step;this.range_value=[this.from,this.to],this.sendValue()},sendValue:function(){this.is_first_time||this.$emit("onChange",this.range_value),this.initChart(),this.is_first_time=!1},initChart:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!=t.elements.length&&(t.chart_diagram_options.data[0].dataPoints=[],r=t.chart_diagram_options.data[0].dataPoints,t.elements.forEach((function(e){switch(!0){case e[0]>=t.range_value[0]&&e[0]<=t.range_value[1]:r.push({x:e[0],y:parseInt(e[1]),color:"#559ee2"});break;case e[0]<t.range_value[0]:case e[0]>t.range_value[1]:r.push({x:e[0],y:parseInt(e[1]),fillOpacity:.3,color:"#b9effb"})}})),r[0].x!=t.min&&r.push({x:t.min,y:0}),r[r.length-1].x!=t.max&&r.push({x:t.max,y:0}),t.chart_diagram_options.axisX.interval=parseInt((t.max-t.min)/4),t.chart_diagram.render());case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.chart_diagram=new CanvasJS.Chart(this.range_id,this.chart_diagram_options),this.initChart(),this.chart_diagram.render()},created:function(){this.range_value=this.value,this.from=this.value[0],this.to=this.value[1]}}),c=r(20),l=r(26),d=r.n(l),m=r(19),h=r(553),_=r(398),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"histogram",attrs:{dir:"ltr"}},[r("div",{staticStyle:{height:"80px",width:"100%","margin-bottom":"-44.4px","margin-top":"-7px"},attrs:{id:t.range_id}}),t._v(" "),r("v-range-slider",{staticClass:"mx-2 bigslider",attrs:{large:"",ltr:"","thumb-size":40,"track-size":50,"hide-details":"",min:t.min,color:"indigo","thumb-label":"",step:t.step,max:t.max},on:{change:function(e){t.from=t.range_value[0],t.to=t.range_value[1],t.sendValue()}},model:{value:t.range_value,callback:function(e){t.range_value=e},expression:"range_value"}}),t._v(" "),r("v-card-actions",{staticClass:"pa-1 py-0 text-center border-radius"},[r("small",[t._v("De")]),t._v(" "),r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"}],staticClass:"pa-0 bg--white center-all body-2 border ma-1 plus_minus text-center",attrs:{"hide-details":"",solo:"",flat:"",min:t.min,max:t.max,dense:"",type:"number",label:"Min",name:"min "+t.suffix,step:t.step,suffix:t.suffix,"append-icon":"mdi-plus","prepend-icon":"mdi-minus"},on:{change:function(e){return t.changeInput()},"click:append":t.setValue,"click:prepend":function(e){return t.setValue(!1)}},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}}),t._v(" "),r("small",[t._v("à")]),t._v(" "),r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"}],staticClass:"pa-0 bg--white center-all body-2 border ma-1 plus_minus text-center",attrs:{"hide-details":"",solo:"",flat:"",min:t.min,max:t.max,dense:"",type:"number",suffix:t.suffix,step:t.step,label:"Max","append-icon":"mdi-plus","prepend-icon":"mdi-minus"},on:{input:function(e){t.range_value=[Number(t.from),Number(t.to)],t.sendValue()},"click:append":function(e){return t.setValue(!0,!1)},"click:prepend":function(e){return t.setValue(!1,!1)}},model:{value:t.to,callback:function(e){t.to=e},expression:"to"}})],1)],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VCardActions:m.a,VRangeSlider:h.a,VTextField:_.a})},474:function(t,e,r){t.exports=r.p+"img/1e2d9ac.jpg"},482:function(t,e,r){"use strict";r(14),r(10),r(8),r(5),r(11),r(27);var n=r(1);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={props:{items:{type:Object,default:{}},suffix_y:{type:String,default:""}},data:function(){var t=this;return{type:"year",suffix_x:"",product:{image:null},format:{type:"scatter",mouseover:function(e){t.$api.get("public/filter/product-simple",{params:{id:e.dataPoint.id}}).then((function(r){t.product=r.data.result,e.dataSeries.toolTipContent="<div class='black-text ' ><img style='height:140px' src='"+t.product.image+"' ><br><b class='font-weight-bold title'>"+t.product.make+" "+t.product.model+" "+t.product.year+"</b><br><b class='font-weight-black subtitle'>"+t.f_numberFormat(t.product.price,t.$t("currency"))+"<br> "+t.f_numberFormat(t.product.odometer,t.$t("Km"))+"</b></div>",e.chart.render()}))},click:function(e){t.$router.push(t.localePath({name:"car-id",params:{id:t.product.url_id}}))}},chart:null}},computed:{chartOptions:function(){return{animationEnabled:!0,axisX:{valueFormatString:"####.##"},axisY:{suffix:" "+this.suffix_y},data:[c({},this.format,{name:"FAR_ABOVE_MARKET",visible:!0,color:this.$t("COLOR_FAR_ABOVE_MARKET"),legendText:this.$t("FAR_ABOVE_MARKET"),dataPoints:[]}),c({},this.format,{name:"ABOVE_MARKET",visible:!0,color:this.$t("COLOR_ABOVE_MARKET"),legendText:this.$t("ABOVE_MARKET"),dataPoints:[]}),c({},this.format,{name:"FAIR",visible:!0,legendText:this.$t("FAIR"),color:this.$t("COLOR_FAIR"),dataPoints:[]}),c({},this.format,{name:"GOOD",visible:!0,legendText:this.$t("GOOD"),color:this.$t("COLOR_GOOD"),dataPoints:[]}),c({},this.format,{visible:!0,name:"VERY_GOOD",legendText:this.$t("VERY_GOOD"),color:this.$t("COLOR_VERY_GOOD"),dataPoints:[]})]}}},methods:{setType:function(t){var e=this;this.type=t,setTimeout((function(){e.init()}),100)},init:function(){var t=this;this.chartOptions.axisX.suffix="year"==this.type?"":" "+this.$t("Km"),this.chartOptions.data.forEach((function(e,r){e.dataPoints=[],t.items[e.name]&&(e.dataPoints=t.items[e.name].map((function(element){return{id:element.id,x:"year"==t.type?parseInt(element.year):parseInt(element.odometer),y:parseInt(element.price),cursor:"pointer"}})))})),this.chart.render()}},watch:{items:{handler:function(t,e){this.init()},deep:!0}},mounted:function(){this.chart=new CanvasJS.Chart("chartContainer",this.chartOptions),this.init()}},d=r(20),m=r(26),h=r.n(m),_=r(197),v=r(470),f=r(395),x=r(412),y=r(415),C=r(428),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-tabs",{attrs:{dense:"","show-arrows":"","background-color":"transparent"}},[n("v-tab",{staticClass:"font-weight-bold",on:{click:function(e){return t.setType("year")}}},[n("img",{staticClass:"mx-1 mt-1 float-left",attrs:{width:"30",src:r(455),alt:t.$t("year")}}),t._v("\n      "+t._s(t.$t("year"))+"\n    ")]),t._v(" "),n("v-tab",{staticClass:"font-weight-bold",on:{click:function(e){return t.setType("odometer")}}},[n("img",{staticClass:"mx-2 float-left",attrs:{width:"30",src:r(456),alt:t.$t("odometer")}}),t._v("\n      "+t._s(t.$t("odometer"))+"\n    ")])],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticClass:"is_ltr pa-3",staticStyle:{height:"300px",width:"100%"},attrs:{id:"chartContainer"}}),t._v(" "),n("v-row",{attrs:{justify:"center","no-gutters":""}},[t._l(t.chartOptions.data,(function(e,r){return[n("v-card",{key:r,staticClass:"ma-1 pa-1 stripe-btn"},[n("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:t.$t(e.name),color:e.color,"hide-details":""},on:{change:function(e){return t.chart.render()}},model:{value:e.visible,callback:function(r){t.$set(e,"visible",r)},expression:"item.visible"}})],1)]}))],2)],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VCard:_.a,VCheckbox:v.a,VDivider:f.a,VRow:x.a,VTab:y.a,VTabs:C.a})},483:function(t,e,r){"use strict";r(31);var n=r(9),o={props:{chart_id:{type:String,default:"column_chart_id"},items:{default:[]},color:{type:String,default:"#559ee2"},type:{type:String,default:"column"},foramt:{type:String,default:"#,##0.##"},suffix_x:{type:String,default:"",required:!1},suffix_y:{type:String,default:"",required:!1}},data:function(){return{elements:[],selected_x:null,is_selected_x:!1,chart_diagram_options:{animationEnabled:!0,axisX:{title:" "+this.suffix_x,includeZero:!1,valueFormatString:this.foramt},axisY:{title:" "+this.suffix_y,includeZero:!1,valueFormatString:"##.###"},data:[{click:function(t){},type:this.type,color:this.color,dataPoints:[]}]},chart_diagram:null}},watch:{selected_x:function(t){this.is_selected_x=!0,this.initChart(),this.$emit("onChangeX",t)},items:{handler:function(t,e){this.elements=t,this.is_selected_x?this.is_selected_x:this.selected_x=null,this.initChart()},deep:!0}},methods:{initChart:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==t.elements.length){e.next=8;break}return t.chart_diagram_options.data[0].dataPoints=[],r=t.chart_diagram_options.data[0].dataPoints,e.next=5,t.elements.forEach((function(e){e[0]!=t.selected_x&&null!=t.selected_x?r.push({label:e[0],y:parseInt(e[1]),color:"#b9effb",cursor:"pointer"}):r.push({label:e[0],y:parseInt(e[1]),color:t.color,cursor:"pointer"})}));case 5:t.chart_diagram.render(),e.next=10;break;case 8:t.chart_diagram_options.data[0].dataPoints=[],t.chart_diagram.render();case 10:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.chart_diagram=new CanvasJS.Chart(this.chart_id,this.chart_diagram_options),this.initChart()}},c=r(20),l=r(26),d=r.n(l),m=r(127),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[null!=t.selected_x?r("v-icon",{staticStyle:{"margin-top":"0px","margin-right":"8px",position:"absolute",right:"0","z-index":"1"},on:{click:function(e){t.selected_x=null}}},[t._v("mdi-reload")]):t._e(),t._v(" "),r("div",{staticClass:"is_ltr",staticStyle:{height:"250px",width:"100%"},attrs:{id:t.chart_id}})],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VIcon:m.a})},501:function(t,e,r){t.exports=r.p+"img/1bafba5.png"},545:function(t,e,r){"use strict";r.r(e);r(14),r(10),r(8),r(5),r(11),r(36);var n=r(1),o=(r(31),r(9)),c=r(434),l=r(441),d=r(483),m=r(462),h=r(482),_=r(448);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={components:{Indicator:c.a,Number:_.a,Product:l.a,Column:d.a,Histogram:m.a,Graph:h.a},data:function(){return{years:[],is_no_result:!1,graph_product:{},products:{},detail:{},estimation_ml:0,estimation:{},display_product_anim:{is_work:!0,index:0,price:0,img_index:0},old_params:{},params:{}}},computed:{conf_color:function(){switch(!0){case this.estimation.confidence<25:return"red";case this.estimation.confidence>=25&&this.estimation.confidence<50:return"orange";case this.estimation.confidence>=50&&this.estimation.confidence<=100:return"green"}return"green"}},head:function(){return{title:this.meta.title,meta:[{hid:"description",name:"description",content:this.meta.description},{hid:"og:title",property:"og:title",content:this.meta.title+" - autoprix.tn"},{hid:"og:description",property:"og:description",content:this.meta.description},{hid:"og:image",property:"og:image",content:r(474)}]}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,title;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.store,r=t.query,t.app,title=r.make,void 0!==r.model&&(title+=" "+r.model),"Évaluer la valeur d’une voiture occasion en Tunisie et calculer sa cote ou Argus avant d’acheter et vendre au meilleur prix.​",e.abrupt("return",{meta:{title:title,description:"Évaluer la valeur d’une voiture occasion en Tunisie et calculer sa cote ou Argus avant d’acheter et vendre au meilleur prix.​"}});case 5:case"end":return e.stop()}}),e)})))()},methods:{onHistoChange:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!isNaN(t)&&t?(this.params["min_"+e]=t-2*r,this.params["max_"+e]=t):(delete this.params.min_price,delete this.params.max_price,delete this.params.min_year,delete this.params.max_year,delete this.params.min_odometer,delete this.params.max_odometer)},share:function(){this.$store.commit("layout/share",{is_open:!0,url:window.location.href,title:this.meta.title})},init:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JSON.stringify(t.old_params)===JSON.stringify(t.$route.query)){e.next=24;break}return t.is_no_result=!1,t.f_goToUp(),t.params=Object.assign(t.params,t.$route.query),t.old_params=f({},t.$route.query),t.$api.get("public/filter/product/graph",{params:f({},{make:t.params.make,model:t.params.model},{},{max:1e3})}).then((function(e){t.graph_product=e.data.result,t.runtime=e.data.runtime,t.detail.total=e.data.result.length})),r={},t.params.odometer=parseFloat(t.params.odometer.replace(" ","")),r.min_year=parseInt(t.params.year),r.max_year=parseInt(t.params.year),r.max=12,e.prev=11,e.next=14,t.$recaptcha.getToken();case 14:return n=e.sent,t.display_product_anim.is_work=!0,e.next=18,t.$api.get("public/valiation/predict",{params:f({},t.params,{},{recaptcha_token:n})}).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var i,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.estimation=r.data.result,t.products=r.data.result.products,t.detail=r.data.detail,i=0;case 4:if(!(i<t.products.length)){e.next=24;break}t.display_product_anim.index=i,n=0;case 7:if(!(n<2)){e.next=21;break}o=0;case 9:if(!(o<t.products[i].image.length)){e.next=18;break}return(c=t.products[Math.floor(Math.random()*(t.products.length-1))].price)&&(t.display_product_anim.price=c),t.display_product_anim.img_index=o,e.next=15,t.f_sleep(30);case 15:o++,e.next=9;break;case 18:n++,e.next=7;break;case 21:i++,e.next=4;break;case 24:return t.display_product_anim.price=t.estimation.price_median,e.next=27,t.f_sleep(1e3);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.is_no_result=!0}));case 18:t.display_product_anim.is_work=!1,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),t.is_no_result=!0;case 24:case"end":return e.stop()}}),e,null,[[11,21]])})))()}},created:function(){this.params=Object.assign(this.params,this.$route.query)},mounted:function(){this.init()},beforeRouteEnter:function(t,e,r){r((function(t){t.init()}))}},y=r(20),C=r(26),w=r.n(C),k=r(196),O=r(197),$=r(19),V=r(411),j=r(430),P=r(395),S=r(69),A=r(127),R=r(192),T=r(198),E=r(412),I=r(416),F=r(413),component=Object(y.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{class:{"pa-0":t.$vuetify.breakpoint.xsOnly}},[n("v-card-actions",{staticClass:"pa-0 my-2"},[void 0!==t.params.make?n("img",{staticClass:"mx-2 white stripe-btn pa-2 px-1 border-radius",staticStyle:{height:"auto"},attrs:{src:"https://www.carlogos.org/car-logos/"+t.params.make.toLowerCase().replace(" ","-")+"-logo.png",alt:t.params.make,width:"50"}}):t._e(),t._v(" "),n("h1",{staticClass:"display-1 font-weight-bold"},[t._v(t._s(t.params.make)+" "+t._s(t.params.model))])]),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pa-2",attrs:{md:"4",cols:"12"}},[t.is_no_result?[n("div",{staticClass:"pa-3 mb-2 font-weight-bold text-center white"},[t._v("Estimation non disponible")])]:[t.estimation.price_median&&0!=t.estimation.price_median?[n("v-fade-transition",{attrs:{mode:"out-in"}},[t.display_product_anim.is_work?n("div",[void 0!==t.products[t.display_product_anim.index]?n("v-card",{staticClass:"elevation-0",attrs:{loading:!0}},[n("v-card-actions",{staticClass:"pa-2 pt-3"},[n("span",{staticClass:"headline font-weight-bold"},[t._v(t._s(t.f_numberFormat(t.display_product_anim.price,t.$t("currency"))))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-progress-circular",{staticClass:"caption",attrs:{indeterminate:!1,size:40,width:2,value:100/t.products.length*(t.display_product_anim.index+1),color:t.display_product_anim.index<4?"primary":"green"}},[t._v(t._s(Math.trunc(100/t.products.length*(t.display_product_anim.index+1)))+"%")])],1),t._v(" "),void 0!==t.products[t.display_product_anim.index]?n("v-card",{staticClass:"border elevation-0 grey darken-4 text-center line-height",attrs:{tile:"",height:"200"}},[n("v-fade-transition",{attrs:{mode:"out-in"}},[n("img",{attrs:{src:t.products[Math.floor(Math.random()*this.products.length)].image[t.display_product_anim.img_index],height:"199"}})])],1):t._e()],1):t._e()],1):n("div",[n("fieldset",{staticClass:"pa-0 mb-1"},[t.display_product_anim.is_work?t._e():n("legend",{staticClass:"text-center mb-2"},[n("img",{staticClass:"mx-2",attrs:{src:r(501),width:"100",alt:""}})]),t._v(" "),n("h1",{staticClass:"text-center display-2 font-weight-black mb-5"},[n("number",{attrs:{height:53,to:t.f_numberFormat(t.estimation.price_median,t.$t("currency"))}})],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"25",src:"https://image.flaticon.com/icons/svg/2471/2471859.svg",alt:""}}),t._v("\n                    Confiance\n                    "),n("v-spacer"),t._v(" "),n("v-card",{staticClass:"mx-auto transparent elevation-0",attrs:{width:"144"}},[n("v-progress-linear",{attrs:{color:t.conf_color,value:t.estimation.confidence,rounded:"",height:"25"}},[n("span",{staticClass:"white--text"})])],1)],1)],1)])])]:n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{height:"250",type:"card-heading,image"}})],t._v(" "),n("v-card",{staticClass:"mb-2 elevation-0 transparent"},[n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"20",src:"https://image.flaticon.com/icons/svg/2413/2413653.svg",alt:""}}),t._v("\n            "+t._s(t.$t("year"))+"\n            "),n("v-spacer"),t._v("\n            "+t._s(t.params.year)+"\n          ")],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"20",src:"https://image.flaticon.com/icons/svg/2040/2040880.svg",alt:""}}),t._v("\n            "+t._s(t.$t("odometer"))+"\n            "),n("v-spacer"),t._v("\n            "+t._s(t.f_numberFormat(t.params.odometer,t.$t("Km")))+"\n          ")],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"20",src:"https://image.flaticon.com/icons/svg/2040/2040875.svg",alt:""}}),t._v("\n            "+t._s(t.$t("md_fuel_type"))+"\n            "),n("v-spacer"),t._v("\n            "+t._s(t.$t(t.params.md_fuel_type))+"\n          ")],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"20",src:"https://image.flaticon.com/icons/svg/1789/1789180.svg",alt:""}}),t._v("\n            "+t._s(t.$t("md_gearbox"))+"\n            "),n("v-spacer"),t._v("\n            "+t._s(t.$t(t.params.md_gearbox))+"\n          ")],1),t._v(" "),t.params.m_nd_cylinder?n("v-divider"):t._e(),t._v(" "),t.params.m_nd_cylinder?n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"20",src:"https://image.flaticon.com/icons/svg/2472/2472671.svg",alt:""}}),t._v("\n            "+t._s(t.$t("md_cylinder"))+"\n            "),n("v-spacer"),t._v("\n            "+t._s(t.params.m_nd_cylinder)+" "+t._s(t.$t("L"))+"\n          ")],1):t._e(),t._v(" "),t.params.horsepower_n?n("v-divider"):t._e(),t._v(" "),t.params.horsepower_n?n("v-card-actions",[n("img",{staticClass:"float-left mx-1",attrs:{width:"20",src:"https://image.flaticon.com/icons/svg/2040/2040878.svg",alt:""}}),t._v("\n            "+t._s(t.$t("md_horsepower"))+"\n            "),n("v-spacer"),t._v("\n            "+t._s(t.params.horsepower_n)+" "+t._s(t.$t("CV"))+"\n          ")],1):t._e()],1),t._v(" "),n("v-card-actions",{staticClass:"pa-1"},[n("v-btn",{staticClass:"green",attrs:{to:t.localePath({name:"car-valuation",query:t.old_params}),dark:"",text:""}},[n("v-icon",{staticClass:"mx-1"},[t._v("mdi-pencil")]),t._v("Modifier\n          ")],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"facebook",attrs:{dark:"",text:""},on:{click:t.share}},[n("v-icon",{staticClass:"mx-1"},[t._v("mdi-share")]),t._v("Partager\n          ")],1)],1)],2),t._v(" "),Object.keys(t.graph_product).length>0?n("v-col",{attrs:{cols:"12",md:"8"}},[n("v-card",{staticClass:"elevation-0 mt-2 ma-1"},[n("client-only",[n("Graph",{staticClass:"pa-1",attrs:{items:t.graph_product,suffix_x:t.$t("Km"),suffix_y:t.$t("currency")}})],1),t._v(" "),n("div",{staticClass:"tajawal pa-2"},[n("v-icon",{attrs:{small:""}},[t._v("mdi-alert-circle-outline")]),t._v(" "),n("small",{staticClass:"tajawal"},[t._v("Visualiser et comprendre l’ensemble du marché très simplement.")])],1)],1)],1):t._e(),t._v(" "),0==!t.products.length?n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{group:"","no-gutters":""}},t._l(t.products,(function(e){return n("v-col",{key:e.id,staticClass:"pa-2",class:{"pa-2 ":t.$vuetify.breakpoint.mdAndUp,"pa-0 px-0 py-0 grey lighten-2 pb-3":t.$vuetify.breakpoint.smAndDown},attrs:{cols:"12",md:"4"}},[n("Product",{attrs:{product:e}})],1)})),1)],1):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;w()(component,{VBtn:k.a,VCard:O.a,VCardActions:$.a,VCol:V.a,VContainer:j.a,VDivider:P.a,VFadeTransition:S.d,VIcon:A.a,VProgressCircular:R.a,VProgressLinear:T.a,VRow:E.a,VSkeletonLoader:I.a,VSpacer:F.a})}}]);